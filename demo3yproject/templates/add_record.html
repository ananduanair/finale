{% extends 'base.html' %}
{% block content %}
<div class="col-md-6 offset-md-3">

<form method="POST" onsubmit="showSuccess()" action="{% url 'add_record' %}" style="background-color: #fff; padding:20px;border:1px solid #000; padding:20px;" >
    {% csrf_token %}
    <div class="form-field">
    {{ form.as_p}}
        </div>


<!--    <button onclick="myFunction()" class="btn btn-secondary">-->
<!--        Add Records-->
<!--    </button>-->
    <button type="submit" class="btn btn-secondary">
        Add Record
    </button>



</form>
    <script>
    const departmentSelect = document.querySelector('#id_department');
    const coursesSelect = document.querySelector('#id_courses');

    // Define course options for each department
    const courseOptions = {
        'Science': ['Computer', 'Biology'],
        'Commerce': ['BBA', 'BCOM'],
    };

    // Function to update course options based on the selected department
    function updateCourseOptions() {
        const selectedDepartment = departmentSelect.value;
        const courseOptionsForDepartment = courseOptions[selectedDepartment] || [];

        // Clear existing course options
        coursesSelect.innerHTML = '';

        // Populate course options
        courseOptionsForDepartment.forEach(course => {
            const option = document.createElement('option');
            option.value = course;
            option.text = course;
            coursesSelect.appendChild(option);
        });
    }

    // Event listener to update course options when the department changes
    departmentSelect.addEventListener('change', updateCourseOptions);

    // Initial update
    updateCourseOptions();
</script>
<script>
    function showSuccess()
    {
    alert("Record Added");
    }
</script>
<!-- <script>-->
<!--        document.getElementById('myForm').addEventListener('submit', function (event) {-->
<!--            event.preventDefault(); // Prevent the form from submitting-->

<!--            // Display the success alert-->
<!--            alert('Success!'); // Modify this message as needed-->

<!--            // Clear the form fields-->
<!--            document.getElementById('myForm').reset();-->
<!--        });-->
<!--    </script>-->
</div>


{% endblock%}